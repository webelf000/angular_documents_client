<mg-ui-top-bar>
  <mg-ui-top-bar-actions>
    <mg-button buttonStyle="neutral" (click)="openDocumentFormModal()">
      <i class="icon-upload mr-1"></i> {{'DOCUMENTS.MAIN.UPLOAD_DOCUMENTS' | translate}}
    </mg-button>
  </mg-ui-top-bar-actions>
</mg-ui-top-bar>
<div class="row">
  <div class="pictures col-md-9">
    <mg-spinner *ngIf="((isLoading$ | async) ||  (isEditing$ | async) || (isCreating$ | async)); else showPictures"></mg-spinner>
    <ng-template #showPictures>
      <mg-ui-card>
        <mg-ui-card-title>{{'DOCUMENTS.MAIN.PICTURES' | translate}}</mg-ui-card-title>
        <!--<mg-ui-card-content>-->
              <!--<mg-picture-list-->
                  <!--[pictureList]="pictureList$ | async"-->
                  <!--(docToPreview)="setPreviwedDoc($event)"-->
                  <!--(delete)="openDeleteConfirmModal($event)">-->
                <!--</mg-picture-list>-->
        <!--</mg-ui-card-content>-->
      </mg-ui-card>
      <!--<mg-document-list-->
          <!--[documentList]="documentList$ | async"-->
          <!--[projects] = "projectList$ | async"-->
          <!--(docToPreview)="setPreviwedDoc($event)"-->
          <!--(delete)="openDeleteConfirmModal($event)">-->
        <!--</mg-document-list>-->
      </ng-template>
  </div>
</div>

<!--documents Upload modal-->
<mg-modal
    [modalTube]="documentFormModal"
    modalSize="modal-documents"
    [showHeader]="showHeader"
>
  <mg-document-add
      *ngIf="!isEdit"
      [modal]="documentFormModal"
      [contactUiid]="contactUiid"
      [userSelectOptions]="tolaUserList$ | async"
      [projectSelectOptions]="projectList$ | async"
      [currentContactUuuid]="contactUiid"
      (documentFormValues)="documentFormSubmit($event)"
  >
  </mg-document-add>
  <mg-document-preview
      *ngIf="isEdit"
      [modal]="documentFormModal"
      [userSelectOptions]="tolaUserList$ | async"
      [projectSelectOptions]="projectList$ | async"
      [currentContactUuuid]="contactUiid"
      [document]="currentDoc"
      (documentDelete)="openDeleteConfirmModal($event)"
      (download)="downloadDocument($event)"
  >
  </mg-document-preview>
</mg-modal>
<mg-modal-confirm
  modalPosition="center"
  themeColor="danger"
  [modalTube]="deleteTube"
  title=""
  modalWidth="narrow">
  <p modal-message>{{translatedDeleteMessage}}</p>
  <div class="row" modal-actions>
    <div class="col-md-6">
      <mg-button
        buttonStyle="secondary"
        buttonTheme="danger"
        fullWidth="true"
        (click)="closeDeleteConfirmModal()">
        {{'PAGES_ACTIVITIES.CANCEL' | translate}}
      </mg-button>
    </div>
    <div class="col-md-6">
      <mg-button
        buttonStyle="primary"
        buttonTheme="danger"
        fullWidth="true"
        (click)="deleteDocument()">
        {{'PAGES_ACTIVITIES.DELETE' | translate}}
      </mg-button>
    </div>
  </div>
</mg-modal-confirm>
